(this.webpackJsonpcovid19=this.webpackJsonpcovid19||[]).push([[0],{228:function(e,t,a){},373:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(23),s=a.n(r),o=a(87),i=a(28),u=(a(228),a(406)),l=a(410),j=a(4);var d=function(){return Object(j.jsx)(u.a,{children:Object(j.jsxs)("div",{className:"spacing-top",children:[Object(j.jsx)(l.a,{className:"center-text",children:"This is a simple app that provides Covid19 statistics. To search data choose the type of statistics on the top of the app (global statistics or statistics per country), then choose your filters and press search button."}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsxs)(l.a,{className:"center-text",children:["The app uses free public API ",Object(j.jsx)("a",{href:"https://covid19api.com/",children:"https://covid19api.com/"}),"."]}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsx)(l.a,{className:"center-text",children:"\xa9 Anton Liannoi, 2021"})]})})},h=a(53),b=a.n(h),O=a(116),f=a(20),x="2019-12-01",v="https://api.covid19api.com",m="Confirmed",p="Deaths",y="Recovered",g="Active",C="Loading...",S="No data found for your search parameters",N="An error occurred while processing your request",k='Choose your search parameters and press "SEARCH" button';function D(){return(new Date).toISOString().split("T")[0]}function F(e,t){return e.date<t.date?-1:e.date>t.date?1:0}function w(e,t){return e.Country<t.Country?-1:e.Country>t.Country?1:0}var I=a(411),T=a(374),A=a(424),B=a(425);var L=function(e){var t=e.searchByCountries,a=e.chooseCountry,n=void 0===a?function(){return null}:a,c=e.chooseCasesType,r=e.chooseDateFrom,s=e.chooseDateTo,o=void 0===s?function(){return null}:s,i=e.chooseNewCasesOnly,u=void 0===i?function(){return null}:i,d=e.chosenCases,h=e.chosenNewCasesOnly,b=e.onSearchButtonClick,O=e.chosenDateFrom,f=e.chosenDateTo;return Object(j.jsxs)("div",{className:"sidebar",children:[t&&Object(j.jsx)("div",{className:"sidebar-item-container",children:Object(j.jsx)(Y,{chooseCountry:n})}),Object(j.jsx)("div",{className:"sidebar-item-container",children:Object(j.jsxs)(I.a,{orientation:"vertical",color:"primary","aria-label":"outlined primary button group",children:[Object(j.jsx)(T.a,{variant:d===m?"contained":"outlined",onClick:c(m),children:"Confirmed"}),Object(j.jsx)(T.a,{variant:d===p?"contained":"outlined",onClick:c(p),children:"Deaths"}),Object(j.jsx)(T.a,{variant:d===y?"contained":"outlined",onClick:c(y),children:"Recovered"}),t&&Object(j.jsx)(T.a,{variant:d===g?"contained":"outlined",onClick:c(g),children:"Active"})]})}),t||Object(j.jsx)("div",{className:"sidebar-item-container",children:Object(j.jsxs)("div",{className:"flex-row",children:[Object(j.jsx)(A.a,{checked:h,color:"primary",onChange:function(e){u(e.target.checked)}}),Object(j.jsx)(l.a,{children:"New cases per day"})]})}),Object(j.jsxs)("div",{id:"period",children:[Object(j.jsx)("div",{className:"sidebar-item-container",children:Object(j.jsx)(B.a,{type:"date",label:"Choose Date From",value:O||"",inputProps:{min:x,max:f||D()},InputLabelProps:{shrink:!0},onChange:function(e){r(e.target.value)}})}),t||Object(j.jsx)("div",{className:"sidebar-item-container",children:Object(j.jsx)(B.a,{type:"date",label:"Choose Date To",value:f,inputProps:{min:O||x,max:D()},InputLabelProps:{shrink:!0},onChange:function(e){o(e.target.value)}})})]}),Object(j.jsx)(T.a,{variant:"contained",color:"primary",onClick:b,children:"Search"})]})},P=a(414),E=a(427);var q=function(){return Object(j.jsx)(P.a,{children:Object(j.jsxs)("div",{className:"flex-adapt",children:[Object(j.jsx)(l.a,{className:"title",variant:"h6",children:"Covid19 Statistics"}),Object(j.jsxs)("div",{className:"nav-links flex-adapt",children:[Object(j.jsx)(E.a,{children:Object(j.jsx)(o.b,{className:"link",to:"/covid19/",children:"Global statistics"})}),Object(j.jsx)(E.a,{children:Object(j.jsx)(o.b,{className:"link",to:"/covid19/country",children:"Statistics per country"})}),Object(j.jsx)(E.a,{children:Object(j.jsx)(o.b,{className:"link",to:"/covid19/about",children:"About"})})]})]})})},J=a(415),K=a(416),R=a(420),G=a(124),H=a(125),M=a(103),V=a(210),z=a(421),Q=a(213);var U={ChartArea:function(e){var t=e.data;return Object(j.jsx)(J.a,{width:"100%",height:"100%",children:Object(j.jsxs)(K.a,{data:t,margin:{left:60},width:1e3,height:500,children:[Object(j.jsx)(R.a,{strokeDasharray:"3 3"}),Object(j.jsx)(G.a,{dataKey:"date"}),Object(j.jsx)(H.a,{}),Object(j.jsx)(M.a,{}),Object(j.jsx)(V.a,{type:"monotone",dataKey:"quantity",stroke:"#717ec7",fill:"#b8c2ff"})]})})},ChartBars:function(e){var t=e.data;return Object(j.jsx)(J.a,{width:"100%",height:"100%",children:Object(j.jsxs)(z.a,{data:t,margin:{left:40,right:30},width:1e3,height:500,children:[Object(j.jsx)(R.a,{strokeDasharray:"3 3"}),Object(j.jsx)(G.a,{dataKey:"date"}),Object(j.jsx)(H.a,{}),Object(j.jsx)(M.a,{}),Object(j.jsx)(Q.a,{dataKey:"quantity",fill:"#8884d8"})]})})}};var W=function(){var e="".concat(v,"/countries");return fetch(e).then((function(e){return e})).then((function(e){return e.json()}),(function(){return null}))},X=a(422);var Y=function(e){var t=e.chooseCountry,a=Object(n.useState)([]),c=Object(f.a)(a,2),r=c[0],s=c[1];return Object(n.useEffect)((function(){sessionStorage.getItem("countriesList")?s(JSON.parse(sessionStorage.getItem("countriesList")||"")):W().then((function(e){if(e){var t=e.sort(w);sessionStorage.setItem("countriesList",JSON.stringify(t)),s(t)}}))}),[]),Object(j.jsxs)(X.a,{defaultValue:sessionStorage.getItem("countryCountryFilter")||"default",onChange:function(e){t(e.target.value)},children:[Object(j.jsx)(E.a,{value:"default",disabled:!0,children:"Choose country..."}),r.map((function(e){return Object(j.jsx)(E.a,{value:e.Slug,children:e.Country})}))]})};var Z=function(e,t,a){var n=a||x,c="".concat(v,"/live/country/").concat(e,"/status/").concat(t.toLowerCase(),"/date/").concat(n);return fetch(c).then((function(e){return e.json()})).then((function(e){return function(e,t){if(t){var a={};return t.forEach((function(t){var n,c=null===(n=t.Date)||void 0===n?void 0:n.split("T")[0];a.hasOwnProperty(c)?a[c]+=t[e]:a[c]=t[e]})),Object.keys(a).map((function(e){return{date:e,quantity:a[e]}})).sort(F)}return[]}(t,e)}),(function(){return null}))};var $=function(){var e=Object(n.useState)(""),t=Object(f.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(m),s=Object(f.a)(r,2),o=s[0],i=s[1],d=Object(n.useState)(""),h=Object(f.a)(d,2),x=h[0],v=h[1],p=Object(n.useState)([]),y=Object(f.a)(p,2),g=y[0],D=y[1],F=Object(n.useState)(k),w=Object(f.a)(F,2),I=w[0],T=w[1];Object(n.useEffect)((function(){var e=sessionStorage.getItem("countryCountryFilter");e&&c(e);var t=sessionStorage.getItem("countryCasesTypeFilter");t&&i(t);var a=sessionStorage.getItem("countryDateFromFilter");a&&v(a)}),[]);var A=function(){var e=Object(O.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=8;break}return T(C),e.next=4,Z(a,o,x);case 4:(t=e.sent)?t.length?(D(t),T("")):T(S):T(N),e.next=9;break;case 8:alert("Please, choose a country from the list");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"flex-adapt",children:[Object(j.jsx)(L,{searchByCountries:!0,chooseCountry:function(e){c(e),sessionStorage.setItem("countryCountryFilter",e)},chooseCasesType:function(e){return function(){i(e),sessionStorage.setItem("countryCasesTypeFilter",e)}},chooseDateFrom:function(e){v(e),sessionStorage.setItem("countryDateFromFilter",e)},chosenCases:o,chosenDateFrom:x,onSearchButtonClick:A}),I?Object(j.jsx)(u.a,{children:Object(j.jsx)(l.a,{className:"center-text",children:I})}):Object(j.jsx)("div",{className:"max-fit",children:Object(j.jsx)(U.ChartBars,{data:g})})]})};var _=function(e,t){return(t?"New":"Total")+e},ee=function(e,t,a,n){var c=(t||a)&&"from=".concat(t,"&to=").concat(a),r="".concat(v,"/world?").concat(c);return fetch(r).then((function(e){return e.json()})).then((function(t){return function(e,t,a){if(t){var n=_(e,a);return t.map((function(e){var t;return{date:null===(t=e.Date)||void 0===t?void 0:t.split("T")[0],quantity:e[n]}})).sort(F)}return[]}(e,t,n)}),(function(){return null}))};var te=function(){var e=Object(n.useState)(m),t=Object(f.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),s=Object(f.a)(r,2),o=s[0],i=s[1],d=Object(n.useState)(""),h=Object(f.a)(d,2),v=h[0],p=h[1],y=Object(n.useState)(!1),g=Object(f.a)(y,2),F=g[0],w=g[1],I=Object(n.useState)([]),T=Object(f.a)(I,2),A=T[0],B=T[1],P=Object(n.useState)(k),E=Object(f.a)(P,2),q=E[0],J=E[1];Object(n.useEffect)((function(){var e=sessionStorage.getItem("globalCasesTypeFilter");e&&c(e);var t=sessionStorage.getItem("globalDateFromFilter");t&&i(t);var a=sessionStorage.getItem("globalDateToFilter");a&&p(a);var n=sessionStorage.getItem("globalNewCasesOnlyFilter");n&&w("true"===n)}),[]),Object(n.useEffect)((function(){(o||v)&&(sessionStorage.setItem("globalDateFromFilter",o),sessionStorage.setItem("globalDateToFilter",v))}),[o,v]);var K=function(){var e=Object(O.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o&&v&&o>=v)){e.next=4;break}alert('Please, set "Date From" lower than "Date To"'),e.next=9;break;case 4:return J(C),e.next=7,ee(a,o,v,F);case 7:(t=e.sent)?t.length?(B(t),J("")):J(S):J(N);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"flex-adapt",children:[Object(j.jsx)(L,{chooseCasesType:function(e){return function(){c(e),sessionStorage.setItem("globalCasesTypeFilter",e)}},chooseDateFrom:function(e){i(e),!v&&p(D())},chooseDateTo:function(e){p(e),!o&&i(x)},chooseNewCasesOnly:function(e){w(e),sessionStorage.setItem("globalNewCasesOnlyFilter",e.toString())},chosenCases:a,chosenNewCasesOnly:F,onSearchButtonClick:K,chosenDateFrom:o,chosenDateTo:v}),q?Object(j.jsx)(u.a,{children:Object(j.jsx)(l.a,{className:"center-text",children:q})}):Object(j.jsx)("div",{className:"max-fit",children:Object(j.jsx)(U.ChartArea,{data:A})})]})};var ae=function(){return Object(j.jsxs)(o.a,{children:[Object(j.jsx)(q,{}),Object(j.jsxs)(i.c,{children:[Object(j.jsx)(i.a,{path:"/covid19/country",children:Object(j.jsx)($,{})}),Object(j.jsx)(i.a,{path:"/covid19/about",children:Object(j.jsx)(d,{})}),Object(j.jsx)(i.a,{path:"/covid19/",children:Object(j.jsx)(te,{})})]})]})};s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(ae,{})}),document.getElementById("root"))}},[[373,1,2]]]);
//# sourceMappingURL=main.811fa381.chunk.js.map